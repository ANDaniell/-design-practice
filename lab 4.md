![[Диаграмма_пакетов.drawio.png]]### **Описание пакетов**

1. **UI (Пользовательский интерфейс)**
    
    - Отвечает за взаимодействие с пользователями.
    - Содержит интерфейсы для просмотра афиши, бронирования билетов, управления учетной записью и другой клиентской функциональности.
    - Обменивается данными с **Server Application**.
2. **Server Application (Серверное приложение)**
    
    - Основной компонент, реализующий бизнес-логику системы.
    - Обрабатывает запросы от пользовательского интерфейса и обеспечивает взаимодействие с базой данных.
    - Управляет ключевыми сущностями системы:
        - **Affiche (Афиша)** – управление расписанием фильмов.
        - **Employee (Сотрудники)** – управление данными сотрудников кинотеатра.
        - **Room (Залы)** – информация о кинозалах.
        - **Seance (Сеансы)** – управление временем и параметрами сеансов.
        - **Ticket (Билеты)** – бронирование и продажа билетов.
    - Интегрируется с **External Systems** и **Data Management**.
3. **Data Management (Управление данными)**
    
    - Группа баз данных, используемых для хранения информации:
        - **Cashbox DB** – управление кассовыми данными.
        - **Cinema Hall DB** – информация о кинозалах (размер, места, расположение).
        - **Contract DB** – хранение данных о контрактах с дистрибьюторами и партнерами.
        - **Customer DB** – информация о клиентах (профили, история посещений, подписки).
        - **Distributor DB** – данные о дистрибьюторах фильмов.
        - **Movie DB** – информация о фильмах (название, жанр, рейтинг, описание).
        - **Seance DB** – расписание и данные о сеансах.
        - **Ticket DB** – информация о билетах (продажа, бронирование, аннулирование).
        - **Worker DB** – данные о сотрудниках кинотеатра.
4. **External Systems (Внешние системы)**
    
    - Системы, с которыми интегрируется приложение:
        - Платежные шлюзы для обработки оплат.
        - API дистрибьюторов для получения информации о фильмах.
    - Обеспечивает связь между внешними поставщиками данных и сервером.
5. **Analytics Systems (Аналитические системы)**
    
    - Отвечает за анализ данных и формирование отчетности:
        - Продажи билетов, загруженность залов.
        - Рейтинги фильмов.
        - Поведение клиентов.
        - Бухгалтерия
        - KPI
    - Использует данные из **Data Management** для генерации аналитической информации.

---

### **Взаимодействие между пакетами**

- **UI ↔ Server Application**: пользовательские запросы (например, просмотр расписания, покупка билетов) обрабатываются серверным приложением.
- **Server Application ↔ Data Management**: серверное приложение выполняет запросы на чтение и запись данных в соответствующие базы данных.
- **Server Application ↔ External Systems**: серверное приложение взаимодействует с внешними сервисами для обработки платежей и получения данных о фильмах.
- **Analytics Systems ↔ Data Management**: аналитическая система использует данные из баз данных для анализа и отчетности.



---
![[Pasted image 20241126134606.png]]
### **Описание компонентов**

1. **ServerApplication (Серверное приложение)**
    
    - Центральный компонент, включающий в себя логику всех основных процессов системы.
    - Содержит следующие модули:
        - **CustomerServicing**
            
            - Реализует интерфейс **ICustomer** для взаимодействия с клиентами.
            - Отвечает за предоставление услуг, связанных с бронированием и просмотром информации.
            - Взаимодействует с модулем **TicketSelling** для обработки операций с билетами.
        - **TicketSelling**
            
            - Управляет процессом продажи билетов.
            - Обрабатывает запросы на получение билетов через интерфейс **IGetTicket**.
            - Взаимодействует с **SessionsStructure** для проверки доступности мест на сеансы.
        - **HiringEmployee**
            
            - Реализует интерфейс **IWorker** для управления персоналом.
            - Отвечает за операции, связанные с наймом сотрудников.
        - **Administrate**
            
            - Реализует интерфейс **IUserRegistrate** для управления пользователями и их регистрацией.
            - Управляет данными, связанными с администраторами, сотрудниками и клиентами.
            - Инициирует операции с модулем **HiringEmployee** для управления сотрудниками.
            - Взаимодействует с **SessionsStructure** для изменения расписания сеансов.
        - **SessionsStructure**
            
            - Управляет данными о сеансах и кинозалах.
            - Обеспечивает связь между продажей билетов (**TicketSelling**) и базой данных сеансов (**DataManagement**).
        - **AnalyticsSystems**
            
            - Реализует интерфейс **IStatistics** для обработки статистических данных.
            - Использует данные из **DataManagement** для анализа и формирования отчетов.
2. **DataManagement (Управление данными)**
    
    - Хранилище данных, используемое всеми компонентами.
    - Обеспечивает доступ к данным о клиентах, билетах, сеансах, сотрудниках и статистике.

---

### **Описание интерфейсов**

- **ICustomer**
    - Предоставляет клиентам доступ к услугам бронирования и покупки билетов.
- **IWorker**
    - Предоставляет интерфейс для управления сотрудниками кинотеатра.
- **IUserRegistrate**
    - Реализует регистрацию и управление аккаунтами пользователей.
- **IGetTicket**
    - Используется для обработки запросов на получение информации о билетах.
- **IStatistics**
    - Используется для предоставления статистических данных.

---

### **Связи между компонентами**

- **CustomerServicing ↔ TicketSelling**: модуль обслуживания клиентов направляет запросы на продажу билетов.
- **TicketSelling ↔ SessionsStructure**: проверка доступности билетов и взаимодействие с базой данных сеансов.
- **Administrate ↔ HiringEmployee**: администратор управляет сотрудниками через модуль найма.
- **AnalyticsSystems ↔ DataManagement**: аналитическая система использует данные из базы для формирования отчетов.
- **Administrate ↔ SessionsStructure**: управление расписанием и информацией о сеансах.


---

![[Диаграмма развертывания.drawio.png]]



---
### **Основные узлы и компоненты**

1. **"device" - Desktop Client**
    
    - Это клиентская часть системы, работающая на пользовательских устройствах.
    - Среды выполнения:
        - **Операционные системы**: Windows 10/11, Linux, MacOS.
        - **Браузер**: используется для запуска клиентских сессий (client_session).
    - Взаимодействует с сервером через протоколы HTTP/HTTPS.
2. **"device" - Server**
    
    - Серверная часть приложения, выполняющая основную бизнес-логику системы.
    - Среды выполнения:
        - **Операционная система**: Linux.
        - **Среда выполнения**: .NET Core/CLR (Common Language Runtime).
            - Исполняемый файл: **ServerApplication.exe**, содержащий серверную логику.
    - Сервер обрабатывает запросы от клиентов и взаимодействует с базой данных через SQL.
3. **"device" - BD-Server**
    
    - Сервер базы данных, на котором хранится вся информация системы.
    - Среды выполнения:
        - **Операционная система**: Linux.
        - **СУБД**: PostgreSQL.
    - Взаимодействует с серверным приложением по протоколу SQL.
4. **"artifact" - BD.CSV**
    
    - Файл (артефакт), который представляет собой данные, подготовленные для загрузки в базу данных PostgreSQL.
    - Указано направление развертывания (deploy) данных в базу.

---

### **Взаимодействия между узлами**

1. **Desktop Client ↔ Server**
    
    - Взаимодействие через HTTP/HTTPS.
    - Клиент отправляет запросы на сервер (например, для авторизации, поиска фильмов или просмотра информации о подписке), а сервер возвращает ответы (HTML-страницы, JSON-данные).
2. **Server ↔ BD-Server**
    
    - Взаимодействие по SQL-запросам.
    - Сервер обрабатывает запросы клиента и извлекает/обновляет данные в базе данных PostgreSQL на сервере BD-Server.
3. **BD.CSV ↔ BD-Server**
    
    - Файл BD.CSV служит источником данных для наполнения базы данных. Процесс загрузки данных (deploy) выполняется непосредственно в PostgreSQL.
    - =